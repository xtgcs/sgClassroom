<div class="wrap">
    <div class="header">
        <div class="img">
            <img ng-src="{{data.topImage.url + '?imageView2/1/w/750/h/346'}}" alt="头图">
        </div>
        <div class="portrait_box">
            <div class="portrait">
                <img ng-src={{data.user.icon}} >
            </div>
        </div>

        <div class="name_box">
            <span class="icon">
                <img src="./image/icon_1.png" alt="">
            </span>
            <span class="name">{{data.user.nick}}</span>
        </div>
        <!--<div class="instructions">{{data.desc}}</div>-->
    </div>
    <div class="content">
        <div class="title">
            {{data.name}}
        </div>
        <div class="column_introduction">
            课堂简介
        </div>
        <div ng-repeat="r in data.resources">
            <div class="top_img" ng-if="r.tp == 0">
                <img ng-src="{{r.url + '?imageView2/0/w/640'}}" alt="">
            </div>
            <div class="paragraph txt" ng-if="r.tp ==2 && r.isSubTitle==0">
                <p ng-bind-html="r.txt"></p>
            </div>
            <div class="txt subTitle" ng-if="r.tp==2 && r.isSubTitle==1" >
                <i></i>{{r.txt}}<i></i>
            </div>

        </div>
    </div>
    <div class="nav">
        <ul>
            <li ui-sref-active="active" class="free">
                <a ng-click="freeRead()">免费试读</a>
            </li>
            <li ui-sref-active="active" ng-if="data.subscribe == 0" class="subscribe">
                <a  ng-click="subscribeButton()">订阅 ￥{{data.price}}.00/年</a>
            </li>
            <li ui-sref-active="active" class="subscribe" ng-if="data.subscribe == 1">
                <a class="subButton" ui-sref="subscribe({id:data.id})">阅读全部</a>
            </li>
        </ul>
    </div>
</div>

<!--状态1先隐藏-->
<div class="statue1" ng-show='state1'>
    <div class="darkBack"></div>
    <div class="column-subscribe">
        <div class="subscribe-tip">
            <div class="big-title">
                <p>订阅醉额娘的课堂</p>
            </div>
            <div class="explain">
                <p>您将订阅<span>{{setTime}}</span>的内容订阅后不支持退订、转让，请再次确认</p>
            </div>
            <div class="phone">
                <form name="registerForm" novalidate>
                    <p class="input-label">联系人信息</p>
                    <label class="phone_box">
                        <span class="phone_icon">
                            <img src="./image/phone.png" alt="">
                        </span>
                        <input type="number" placeholder="请输入手机号" name="number" required ng-minlength="11" ng-maxlength="11" ng-pattern="/^1[3|5|7|8][0-9]\d{4,8}$/" ng-model="user.mobile" ng-focus="focus()">
                    </label>
                </form>
                <p class="error" ng-show="registerForm.number.$dirty && registerForm.number.$invalid">手机号输入有误</p>
                <p class="requirements" ng-show="fill" ng-init="fill=false">请输入手机号码</p>
            </div>
        </div>
        <div class="next-container">
            <div ng-click="continueBtn()" class="continue">
                <span >继续</span>
            </div>
            <div class="line"></div>
            <div ng-click="cancelBtn()" class="cancel">
                <span >取消</span>
            </div>
        </div>
    </div>
</div>
<!--状态2先隐藏-->
<div class="statue2" ng-show="state2">
    <div class="darkBack"></div>
    <div class="payment-container">
        <div class="money-data">
            <span>支付</span><strong>￥{{data.price}}</strong>
        </div>
        <div class="payment-tip">
            <p>付款后即订阅栏目</p>
        </div>
        <!--<div class="choices">-->

            <!--<div class="WeChat">-->
                <!--<span></span> <span>微信支付</span>-->
            <!--</div>-->
        <!--</div>-->
        <div ng-click="ensureBtn()" class="ensure">
            <img src="./image/wechat.png" alt=""><span>微信支付</span>
        </div>
    </div>
</div>

<!--状态3先隐藏-->

<div class="statue3" ng-show="state3">
    <div class="pay-Success">
        <div class="tick">
            <span>&#xe604;</span>
        </div>
        <div class="txt">
            <span>订阅成功</span>
        </div>
    </div>
</div>